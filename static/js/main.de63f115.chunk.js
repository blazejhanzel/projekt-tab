(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{185:function(e,t,a){"use strict";a.r(t);var s=a(3),c=a.n(s),n=a(67),r=a.n(n),i=a(20),l=(a(75),a(4)),o=a(1),d=a(2),j=a(8),b=a(6),u=a(5),h=a(0),m=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;Object(o.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(j.a)(s)),fetch("https://projekt-tab.herokuapp.com/employee-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){s.setState({employees:e})})).catch((function(e){console.error(e)}));var c=JSON.parse("[]");s.state={employees:c};c=JSON.parse("[]");return s.state={employees:c},s}return Object(d.a)(a,[{key:"zeroOne",value:function(e){return 1==e?1:0}},{key:"takNie",value:function(e){return"on"==e||1==e||"true"==e?"tak":"nie"}},{key:"handleSubmit",value:function(e){e.preventDefault();var t="https://projekt-tab.herokuapp.com/employee-list",a={id:"".concat(e.currentTarget.id),active:"".concat(this.zeroOne(e.currentTarget.active.checked)),username:"".concat(e.currentTarget.username.value),password:"".concat(e.currentTarget.password.value),role:"".concat(e.currentTarget.role.value),first_name:"".concat(e.currentTarget.firstName.value),last_name:"".concat(e.currentTarget.lastName.value),salary:"".concat(e.currentTarget.salary.value)};if("-1"!=e.currentTarget.id){var s=this.state.employees.map((function(e){return e.id==a.id?a:e}));this.setState({employees:s}),fetch(t,{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"})}else fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"});alert("Operacja przebieg\u0142a pomy\u015blnie!")}},{key:"update",value:function(){var e=this;fetch("https://projekt-tab.herokuapp.com/employee-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.setState({employees:t})})).catch((function(e){console.error(e)}))}},{key:"generate",value:function(){var e,t=this,a=[],s=Object(l.a)(this.state.employees);try{var c=function(){var s=e.value;a.push(Object(h.jsxs)("div",{id:"single emploee",children:[Object(h.jsx)("div",{className:"modal fade",id:"editEmploee"+s.id,tabIndex:"-1","aria-labelledby":"editEmploee","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"editEmploee",children:"Edytuj dane pracownika"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{id:s.id,onSubmit:t.handleSubmit,children:[Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"username",children:"Nazwa u\u017cytkownika"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"username",defaultValue:s.username})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"password",children:"Has\u0142o"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"password"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"role",children:"Rola"}),Object(h.jsxs)("select",{id:"role",className:"form-control",children:[Object(h.jsx)("option",{selected:function(){if("pracownik"==s.role)return"selected"}(),children:"pracownik"}),Object(h.jsx)("option",{selected:function(){if("manager"==s.role)return"selected"}(),children:"manager"}),Object(h.jsx)("option",{selected:function(){if("administrator"==s.role)return"selected"}(),children:"administrator"})]})]}),Object(h.jsxs)("div",{className:"form-row mb-3",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{for:"firstName",children:"Imi\u0119"}),Object(h.jsx)("input",{id:"firstName",type:"text",className:"form-control",defaultValue:s.first_name})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{for:"lastName",children:"Nazwisko"}),Object(h.jsx)("input",{id:"lastName",type:"text",className:"form-control",defaultValue:s.last_name})]})]}),Object(h.jsxs)("div",{className:"form-row",children:[Object(h.jsxs)("div",{className:"col mr-5",children:[Object(h.jsx)("label",{for:"salary",children:"Wynagrodzenie"}),Object(h.jsx)("input",{id:"salary",type:"number",className:"form-control",defaultValue:s.salary})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",id:"active",defaultChecked:function(){if(s.active)return"defaultChecked"}()}),Object(h.jsx)("label",{className:"form-check-label",for:"active",children:"Aktywna"})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("a",{href:"#",className:"list-group-item list-group-item-action","aria-current":"true",children:Object(h.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(h.jsxs)("div",{className:"col-9",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h5",{children:["ID u\u017cytkownika: ",s.id," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h4",{children:["Nazwa u\u017cytkownika: ",s.username]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h5",{children:["Aktywny: ",t.takNie(s.active)," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h6",{children:["Rola: ",s.role]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h6",{children:["Imi\u0119: ",s.first_name]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h6",{children:["Nazwisko: ",s.last_name]})})]}),Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("div",{className:"row justify-content-end",children:Object(h.jsx)("button",{type:"buttont",className:"btn btn-success text-right","data-toggle":"modal","data-target":"#editEmploee"+s.id,children:"Edytuj"})})})]})})]}))};for(s.s();!(e=s.n()).done;)c()}catch(n){s.e(n)}finally{s.f()}return a}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"emploeeList",children:[Object(h.jsxs)("div",{className:"row mt-2 justify-content-center",children:[Object(h.jsx)("div",{className:"col-10",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-info","data-toggle":"modal","data-target":"#newEmploee",children:"Nowy pracownik"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-warning",onClick:this.update.bind(this),children:"Aktualizuj"})})]}),Object(h.jsx)("div",{className:"modal fade",id:"newEmploee",tabIndex:"-1","aria-labelledby":"newEmploee","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Nowy pracownik"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,id:"-1",children:[Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"username",children:"Nazwa u\u017cytkownika"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"password",children:"Has\u0142o"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"password"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"role",children:"Rola"}),Object(h.jsxs)("select",{id:"role",className:"form-control",children:[Object(h.jsx)("option",{children:"pracownik"}),Object(h.jsx)("option",{children:"manager"}),Object(h.jsx)("option",{children:"administrator"})]})]}),Object(h.jsxs)("div",{className:"form-row mb-3",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"text",id:"firstName",className:"form-control",placeholder:"Imi\u0119"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"text",id:"lastName",className:"form-control",placeholder:"Nazwisko"})})]}),Object(h.jsxs)("div",{className:"form-row",children:[Object(h.jsx)("div",{className:"col mr-5",children:Object(h.jsx)("input",{type:"number",id:"salary",className:"form-control",placeholder:"Wynagrodzenie[pln/msc]"})}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",id:"active",defaultChecked:!0}),Object(h.jsx)("label",{className:"form-check-label",for:"active",children:"Aktywny"})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("div",{className:"row-12 mt-2 justify-content-center",children:Object(h.jsx)("div",{className:"list-group",children:this.generate()})})]})}}]),a}(c.a.Component),p=a(68),O=a.n(p),v=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={login:"test",password:"pass",alert_type:"info",alert_msg:"Nieznany b\u0142\u0105d",alert_visible:!1,loading:!1},s}return Object(d.a)(a,[{key:"signIn",value:function(){var e=this,t=JSON.stringify({login:this.state.login,password:O()(this.state.password)}),a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var t=JSON.parse(a.responseText);switch(e.props.userinfo(t),t.role){case"administrator":e.props.app(4);break;case"manager":e.props.app(5);break;case"pracownik":e.props.app(3)}}else 4===a.readyState&&401===a.status?e.setState({alert_type:"danger",alert_msg:"U\u017cytkownik nie istnieje lub podane has\u0142o jest nieprawid\u0142owe",alert_visible:!0,loading:!1}):4===a.readyState&&403===a.status?e.setState({alert_type:"danger",alert_msg:"U\u017cytkownik jest nieaktywny i nie mo\u017ce by\u0107 ju\u017c wykorzystany do zalogowania",alert_visible:!0,loading:!1}):4===a.readyState?e.setState({alert_type:"warning",alert_msg:"Nieznany status, spr\xf3buj ponownie p\xf3\u017aniej",alert_visible:!0,loading:!1}):e.setState({loading:!0})},a.open("POST","https://projekt-tab.herokuapp.com/login",!0),a.withCredentials=!0,a.setRequestHeader("Content-type","application/json"),a.send(t)}},{key:"onKeyUp",value:function(e){13===e.charCode&&document.getElementById("login_btn").click()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"loginPage pt-3 pb-3",children:[Object(h.jsx)("div",{className:"alert alert-"+this.state.alert_type+(this.state.alert_visible?"":" d-none"),role:"alert",children:this.state.alert_msg}),Object(h.jsxs)("div",{id:"loginForm",className:"col-lg-4 mt-3 p-3 ml-auto mr-auto bg-light",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"exampleInputEmail1",children:"Nazwa u\u017cytkownika"}),Object(h.jsx)("input",{value:this.state.login,onChange:function(t){return e.setState({login:t.target.value})},type:"text",className:"form-control",onKeyPress:this.onKeyUp}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"Domy\u015blne dane logowania: admin admin1"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"exampleInputPassword1",children:"Has\u0142o"}),Object(h.jsx)("input",{value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},type:"password",className:"form-control",onKeyPress:this.onKeyUp}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"Loguj\u0105c si\u0119 wyra\u017casz zgod\u0119 na przechowywanie ciasteczek Cookies w przegl\u0105darce."})]}),Object(h.jsxs)("button",{id:"login_btn",onClick:function(){return e.signIn()},className:"btn btn-primary w-100"+(this.state.loading?" disabled":""),children:[Object(h.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"+(this.state.loading?"":" d-none"),role:"status","aria-hidden":"true"}),"Zaloguj"]})]})]})}}]),a}(c.a.Component),x=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={signingOut:!1},s}return Object(d.a)(a,[{key:"signOut",value:function(){this.setState({signingOut:!0});var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&200===e.status&&window.location.reload()},e.open("GET","https://projekt-tab.herokuapp.com/logout",!0),e.withCredentials=!0,e.send()}},{key:"render",value:function(){var e,t=this;return Object(h.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(h.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Ride It - detailing studio"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(h.jsx)("ul",{className:"navbar-nav ml-auto",children:function(){if(t.props.userinfo){var e=[];switch(t.props.userinfo.role){case"administrator":e.push(Object(h.jsx)("a",{className:"nav-link",href:"#",onClick:function(){return t.props.app(4)},children:"Panel administratora"}));case"manager":e.push(Object(h.jsx)("a",{className:"nav-link",href:"#",onClick:function(){return t.props.app(5)},children:"Raporty"})),e.push(Object(h.jsx)("a",{className:"nav-link",href:"#",onClick:function(){return t.props.app(6)},children:"Zarz\u0105dzanie zasobami"}));case"pracownik":e.push(Object(h.jsx)("a",{className:"nav-link",href:"#",onClick:function(){return t.props.app(2)},children:"Lista us\u0142ug"})),e.push(Object(h.jsx)("a",{className:"nav-link",href:"#",onClick:function(){return t.props.app(3)},children:"Lista realizacji"}))}return e}}()}),Object(h.jsxs)("button",{onClick:function(){return t.signOut()},className:"btn btn-outline-light my-2 my-sm-0"+(this.props.userinfo?"":" d-none")+(this.state.signingOut?" disabled":""),children:[Object(h.jsx)("span",{className:"spinner-border spinner-border-sm mr-2"+(this.state.signingOut?"":" d-none"),role:"status","aria-hidden":"true"}),"Wyloguj ",(null===(e=this.props.userinfo)||void 0===e?void 0:e.first_name)||"unknown"]})]})]})}}]),a}(c.a.Component),f=a(7),y=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;Object(o.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(j.a)(s)),fetch("https://projekt-tab.herokuapp.com/resource-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){s.setState({resources:e})})).catch((function(e){console.error(e)}));var c=JSON.parse("[]");return s.state={resources:c,alert:"",lowResources:"cokolwiek"},s}return Object(d.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault();var t="https://projekt-tab.herokuapp.com/resource-list",a={id:"".concat(e.currentTarget.id),name:"".concat(e.currentTarget.name.value),brand:"".concat(e.currentTarget.brand.value),model:"".concat(e.currentTarget.model.value),quantity:"".concat(e.currentTarget.quantity.value),unit:"".concat(e.currentTarget.unit.value)};if("-1"!=e.currentTarget.id){var s=this.state.resources.map((function(e){return e.id==a.id?a:e}));this.setState({resources:s}),fetch(t,{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"})}else fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"});alert("Operacja przebieg\u0142a pomy\u015blnie!")}},{key:"update",value:function(){var e=this;fetch("https://projekt-tab.herokuapp.com/resource-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.setState({resources:t})})).catch((function(e){console.error(e)}))}},{key:"lowStateButton",value:function(e){return"szt"===e.unit&&e.quantity<5||"l"===e.unit&&e.quantity<.15?"btn-danger":"btn-success"}},{key:"lowStateAlert",value:function(e){return"szt"===e.unit&&e.quantity<5||"l"===e.unit&&e.quantity<.15?Object(h.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:[Object(h.jsx)("strong",{children:"Niski stan zasobu!"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}):""}},{key:"generate",value:function(){var e,t=[],a=Object(l.a)(this.state.resources);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(Object(h.jsxs)("div",{id:"singleResource",children:[Object(h.jsx)("div",{className:"modal fade",id:"editResource"+s.id,tabIndex:"-1","aria-labelledby":"editResource","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Edytuj zas\xf3b"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{id:s.id,onSubmit:this.handleSubmit,children:[Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"name",children:"Nazwa"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"name",defaultValue:s.name})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"brand",children:"Marka"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"brand",defaultValue:s.brand})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"model",children:"Model"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"model",defaultValue:s.model})]}),Object(h.jsxs)("div",{className:"form-row mb-3",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{for:"quantity",children:"Ilo\u015b\u0107"}),Object(h.jsx)("input",{id:"quantity",type:"number",className:"form-control",defaultValue:s.quantity})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{for:"unit",children:"Jednostka"}),Object(h.jsx)("input",{id:"unit",type:"text",className:"form-control",defaultValue:s.unit})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("a",{href:"#",className:"list-group-item list-group-item-action","aria-current":"true",children:Object(h.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(h.jsxs)("div",{className:"col-9",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h5",{children:["ID: ",s.id," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h4",{children:["Nazwa: ",s.name]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h5",{children:["Marka: ",s.brand," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h5",{children:["Model: ",s.model," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h6",{children:["Ilo\u015b\u0107: ",s.quantity," ",s.unit]})})]}),Object(h.jsxs)("div",{className:"col-3",children:[Object(h.jsx)("div",{className:"row mb-2 justify-content-end",children:Object(h.jsx)("button",{type:"buttont",className:"btn text-right "+this.lowStateButton(s),"data-toggle":"modal","data-target":"#editResource"+s.id,children:"Edytuj"})}),Object(h.jsx)("div",{className:"row justify-content-end",children:this.lowStateAlert(s)})]})]})})]}))}}catch(c){a.e(c)}finally{a.f()}return t}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"resourceList",children:[Object(h.jsxs)("div",{className:"row mt-2 mb-2 justify-content-center",children:[Object(h.jsx)("div",{className:"col-10",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-info","data-toggle":"modal","data-target":"#newResource",children:"Dodaj zas\xf3b"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-warning",onClick:this.update.bind(this),children:"Aktualizuj"})})]}),Object(h.jsx)("div",{className:"modal fade",id:"newResource",tabIndex:"-1","aria-labelledby":"newResource","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Nowy zas\xf3b"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{id:"-1",onSubmit:this.handleSubmit,children:[Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"name",children:"Nazwa"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"name"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"brand",children:"Marka"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"brand"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"model",children:"Model"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"model"})]}),Object(h.jsxs)("div",{className:"form-row mb-3",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{for:"quantity",children:"Ilo\u015b\u0107"}),Object(h.jsx)("input",{id:"quantity",type:"number",className:"form-control"})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{for:"unit",children:"Jednostka"}),Object(h.jsx)("input",{id:"unit",type:"text",className:"form-control"})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("div",{className:"row-12 mt-2 justify-content-center",children:Object(h.jsx)("div",{className:"list-group",children:this.generate()})})]})}}]),a}(c.a.Component),g=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;Object(o.a)(this,a),(s=t.call(this,e)).handleSubmitNewRegistry=s.handleSubmitNewRegistry.bind(Object(j.a)(s)),s.handleSubmitFinishRegistry=s.handleSubmitFinishRegistry.bind(Object(j.a)(s)),s.resourceChange=s.resourceChange.bind(Object(j.a)(s)),s.quantityChange=s.quantityChange.bind(Object(j.a)(s));var c=JSON.parse("[]");fetch("https://projekt-tab.herokuapp.com/service-history",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){s.setState({services:e})})).catch((function(e){console.error(e)}));var n=JSON.parse("[]");fetch("https://projekt-tab.herokuapp.com/resource-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){s.setState({resources:e}),s.renderRes()})).catch((function(e){console.error(e)}));var r=JSON.parse("[]");return fetch("https://projekt-tab.herokuapp.com/services-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){console.log(e),s.setState({serviceList:e}),s.renderServ()})).catch((function(e){console.error(e)})),s.state={services:n,resources:r,serviceList:c,nOfResources:2,selectedResources:[],newResources:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("select",{class:"custom-select ml-2 mb-1 col-7",id:"resource1",onChange:s.resourceChange,children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),Object(h.jsx)("option",{value:"1",children:"Us\u0142uga 1"}),Object(h.jsx)("option",{value:"2",children:"Us\u0142uga 2"}),Object(h.jsx)("option",{value:"3",children:"Us\u0142uga 3"})]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"number",step:"0.1",id:"quantity1",class:"form-control",onChange:s.quantityChange})})]})],nOfServices:2,newServices:[Object(h.jsxs)("select",{className:"custom-select mb-1",id:"service1",children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),Object(h.jsx)("option",{value:"1",children:"Us\u0142uga 1"}),Object(h.jsx)("option",{value:"2",children:"Us\u0142uga 2"}),Object(h.jsx)("option",{value:"3",children:"Us\u0142uga 3"})]})]},s}return Object(d.a)(a,[{key:"listServiceDetails",value:function(e){for(var t,a=[],s=1;s<=this.state.nOfServices-1;s++)t=document.getElementById("service"+s),a.push(t.value);return a}},{key:"listResourceDetails",value:function(e){for(var t,a=[],s=1;s<=this.state.nOfResources-1;s++)t=document.getElementById("resource"+s),a.push(t.value);return a}},{key:"resourceChange",value:function(e){document.getElementById(e.currentTarget.id).value=e.currentTarget.value,document.getElementById(e.currentTarget.id).id=e.currentTarget.id}},{key:"quantityChange",value:function(e){document.getElementById(e.currentTarget.id).value=e.currentTarget.value}},{key:"handleSubmitNewRegistry",value:function(e){e.preventDefault();for(var t=[],a=1;a<this.state.nOfServices;a++)for(var s=document.getElementById("service"+a),c=0;c<this.state.serviceList.length;c++)if(s&&this.state.serviceList[c].id==s[null===s||void 0===s?void 0:s.selectedIndex].id)for(var n=0;n<this.state.serviceList[c].child.length;n++)t.push({id:this.state.serviceList[c].child[n].id,name:this.state.serviceList[c].child[n].name});var r={date:"".concat(e.currentTarget.date.value),plate_number:"".concat(e.currentTarget.plate_number.value),services:t};console.log(r),fetch("https://projekt-tab.herokuapp.com/service-history",{credentials:"include",method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}}),this.setState({nOfServices:2,newServices:[Object(h.jsxs)("select",{class:"custom-select mb-1",id:"service1",children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),this.generateServ()]})]}),document.getElementById("plate_number").value="",document.getElementById("service1").value="Wybierz..."}},{key:"handleSubmitFinishRegistry",value:function(e){e.preventDefault();for(var t=[],a=1;a<this.state.nOfResources;a++){var s,c=document.getElementById("resource"+a),n=Object(l.a)(this.state.resources);try{for(n.s();!(s=n.n()).done;){var r=s.value;if(document.getElementById("quantity"+a).value>r.quantity&&r.id==c[c.selectedIndex].id)return void alert("Operacja nie powiod\u0142a si\u0119!")}}catch(o){n.e(o)}finally{n.f()}t.push({id:c[c.selectedIndex].id,name:c.value,quantity:document.getElementById("quantity"+a).value})}var i={id:"".concat(e.currentTarget.id),resources:t};console.log(i),fetch("https://projekt-tab.herokuapp.com/service-history",{credentials:"include",method:"PATCH",body:JSON.stringify(i),headers:{"Content-type":"application/json; charset=UTF-8"}}),alert("Operacja przebieg\u0142a pomy\u015blnie!"),this.setState({nOfResources:2,newResources:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("select",{class:"custom-select ml-2 mb-1 col-7",id:"resource1",onChange:this.resourceChange,children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),this.generateRes()]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"number",step:"0.1",id:"quantity1",class:"form-control",onChange:this.quantityChange})})]})]}),e.currentTarget.resource1.value="Wybierz...",e.currentTarget.quantity1.value=""}},{key:"generateDetails",value:function(e){var t,a=[],s=Object(l.a)(e);try{for(s.s();!(t=s.n()).done;){var c=t.value;a.push(Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col",children:["- ",c.name]}),Object(h.jsxs)("div",{className:"col text-right",children:[c.price,"z\u0142"]})]}))}}catch(n){s.e(n)}finally{s.f()}return a}},{key:"generate",value:function(){var e,t=this,a=[],s=Object(l.a)(this.state.services);try{var c=function(){var s=e.value;a.push(Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{class:"modal fade",id:"finishRegistry"+s.id,tabindex:"-1","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("h5",{class:"modal-title",children:"Finalizuj realizacje"}),Object(h.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{onSubmit:t.handleSubmitFinishRegistry,id:s.id,children:[Object(h.jsxs)("div",{class:"modal-body",children:[Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{for:"plateNumber",children:"Nr. rejestracyjny"}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"plate_number",defaultValue:s.plate_number})]}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{for:"date",children:"Data"}),Object(h.jsx)("input",{type:"date",class:"form-control",id:"date",defaultValue:s.date})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Zasoby"}),Object(h.jsx)("div",{class:"form-group mr-1 ml-1",children:t.state.newResources}),Object(h.jsxs)("div",{className:"row ml-1 mr-1",children:[Object(h.jsx)("button",{type:"button",class:"col mr-1 btn btn-primary",onClick:function(){return t.addResource()},children:"+ zas\xf3b"}),Object(h.jsx)("button",{type:"button",class:"col btn btn-primary",onClick:function(){return t.removeResource()},children:"- zas\xf3b"})]})]})})]}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("a",{id:"accordion"+s.id,class:"list-group-item list-group-item-action "+function(){if(!s.completed)return"active"}(),"aria-current":"true",children:Object(h.jsxs)("div",{class:"d-flex w-100 justify-content-between",children:[Object(h.jsxs)("div",{class:"col-9",children:[Object(h.jsx)("div",{class:"row",children:Object(h.jsxs)("h5",{children:["ID realizacji: ",s.id," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h4",{children:["Data: ",s.date]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h5",{children:["Nazwisko: ",s.last_name]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h6",{children:["Imi\u0119: ",s.first_name," "]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("h6",{children:["Nr. rejestracyjny: ",s.plate_number]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("button",{className:"btn btn-secondary text-left",type:"button","data-toggle":"collapse","data-target":"#collapse"+s.id,"aria-expanded":"false","aria-controls":"collapse"+s.id,children:"Szczeg\xf3\u0142y"})}),Object(h.jsx)("div",{id:"collapse"+s.id,className:"rowcollapse collapse","aria-labelledby":"headingOne","data-parent":"#accordion"+s.id,children:Object(h.jsxs)("div",{className:"card-body",children:["Poszczeg\xf3lne us\u0142ugi:",t.generateDetails(s.details)]})})]}),Object(h.jsxs)("div",{className:"col-3 text-right",children:[Object(h.jsxs)("h3",{children:["Cena: ",t.priceSum(s.details),"z\u0142"]}),Object(h.jsx)("div",{className:"row justify-content-end align-self-end",children:Object(h.jsx)("button",{type:"button",class:"btn btn-warning",disabled:function(){if(s.completed)return"disabled"}(),"data-toggle":"modal","data-target":"#finishRegistry"+s.id,children:"Zako\u0144cz"})})]})]})})]}))};for(s.s();!(e=s.n()).done;)c()}catch(n){s.e(n)}finally{s.f()}return a}},{key:"priceSum",value:function(e){var t,a=0,s=Object(l.a)(e);try{for(s.s();!(t=s.n()).done;){a+=t.value.price}}catch(c){s.e(c)}finally{s.f()}return a}},{key:"generateRes",value:function(){var e,t=[],a=Object(l.a)(this.state.resources);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(Object(h.jsx)("option",{id:s.id,children:s.name}))}}catch(c){a.e(c)}finally{a.f()}return t}},{key:"generateServ",value:function(){var e,t=[],a=Object(l.a)(this.state.serviceList);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(Object(h.jsx)("option",{id:s.id,children:s.name}))}}catch(c){a.e(c)}finally{a.f()}return t}},{key:"renderRes",value:function(){this.setState({newResources:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("select",{class:"custom-select ml-2 mb-1 col-7",id:"resource1",onChange:this.resourceChange,children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),this.generateRes()]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"number",step:"0.1",id:"quantity1",class:"form-control",onChange:this.quantityChange})})]})]})}},{key:"renderServ",value:function(){this.setState({newServices:[Object(h.jsxs)("select",{class:"custom-select mb-1",id:"service1",children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),this.generateServ()]})]})}},{key:"addResource",value:function(){this.setState({nOfResources:this.state.nOfResources+1}),this.setState({newResources:[].concat(Object(f.a)(this.state.newResources),[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("select",{class:"custom-select ml-2 mb-1 col-7",id:"resource"+this.state.nOfResources,onChange:this.resourceChange,children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),this.generateRes()]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"number",step:"0.1",id:"quantity"+this.state.nOfResources,class:"form-control",onChange:this.quantityChange})})]})])})}},{key:"removeResource",value:function(){this.setState({nOfResources:this.state.nOfResources-1}),this.state.newResources.pop()}},{key:"addService",value:function(){this.setState({nOfServices:this.state.nOfServices+1}),this.setState({newServices:[].concat(Object(f.a)(this.state.newServices),[Object(h.jsxs)("select",{className:"custom-select mb-1",id:"service"+this.state.nOfServices,children:[Object(h.jsx)("option",{selected:!0,children:"Wybierz..."}),this.generateServ()]})])})}},{key:"removeService",value:function(){this.setState({nOfResources:this.state.nOfServices-1}),this.state.newServices.pop()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"registryList",children:[Object(h.jsx)("div",{className:"row-12 mt-2 justify-content-center",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-info","data-toggle":"modal","data-target":"#newRegistry",children:"Nowa realizacja"})}),Object(h.jsx)("div",{class:"modal fade",id:"newRegistry",tabindex:"-1","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("h5",{class:"modal-title",children:"Nowa realizacja"}),Object(h.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{onSubmit:this.handleSubmitNewRegistry,id:"-1",children:[Object(h.jsxs)("div",{class:"modal-body",children:[Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{for:"plateNumber",children:"Nr. rejestracyjny"}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"plate_number"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"date",children:"Data"}),Object(h.jsx)("input",{type:"date",class:"form-control",id:"date",defaultValue:new Intl.DateTimeFormat("fr-ca",{year:"numeric",month:"2-digit",day:"2-digit"}).format(Date.now())})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Us\u0142ugi"}),Object(h.jsx)("div",{className:"row form-group ml-1 mr-1",children:this.state.newServices}),Object(h.jsxs)("div",{className:"row ml-1 mr-1",children:[Object(h.jsx)("button",{type:"button",className:"col mr-1 btn btn-primary",onClick:function(){return e.addService()},children:"+ us\u0142uga"}),Object(h.jsx)("button",{type:"button",className:"col btn btn-primary",onClick:function(){return e.removeService()},children:"- us\u0142uga"})]})]})})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("div",{className:"row-12 mt-2 justify-content-center",children:Object(h.jsx)("div",{className:"list-group accordion",children:this.generate()})})]})}}]),a}(c.a.Component),N=a(30),k=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={chartData:{labels:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad"," Grudzie\u0144"]}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://projekt-tab.herokuapp.com/reports/profit?year=".concat(this.props.year),{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){var a=function(e){for(var t=[],a=0;a<e.length;a++)e[a]>0?t.push("rgba(0, 255, 0, 0.6)"):t.push("rgba(255, 0, 0, 0.6)");return t}(t);e.setState({chartData:{datasets:[{label:"Doch\xf3d",data:t,backgroundColor:a}]}})})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title text-center",children:"Wykres dochod\xf3w"}),Object(h.jsxs)("h6",{className:"card-subtitle mb-2 text-muted text-center",children:["Okres rozliczeniowy ",this.props.year]}),Object(h.jsx)(N.a,{data:this.state.chartData,width:800,height:450,options:{maintainAspectRatio:!0}})]})})}}]),a}(c.a.Component),w=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={chartData:{}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://projekt-tab.herokuapp.com/reports/statistics?year=".concat(this.props.year),{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(t){var a,s=[],c=[],n=Object(l.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;s.push(r.service_name),c.push(r.count)}}catch(i){n.e(i)}finally{n.f()}e.setState({chartData:{labels:s,datasets:[{label:"Ilo\u015b\u0107",data:c,backgroundColor:"rgba(0, 0, 255, 0.6)"}]}})})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title text-center",children:"Zakres wykonanych us\u0142ug"}),Object(h.jsxs)("h6",{className:"card-subtitle mb-2 text-muted text-center",children:["Okres rozliczeniowy ",this.props.year]}),Object(h.jsx)(N.a,{data:this.state.chartData,options:{maintainAspectRatio:!0,indexAxis:"y"}})]})})}}]),a}(c.a.Component),S=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={availableProfitReports:[],availableStatisticsReports:[],chart:null},fetch("https://projekt-tab.herokuapp.com/reports",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){var t,a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;"profit"===c.report_type?s.setState({availableProfitReports:c.available}):"statistics"===c.report_type&&s.setState({availableStatisticsReports:c.available})}}catch(n){a.e(n)}finally{a.f()}})).catch((function(e){return console.log("error",e)})),s}return Object(d.a)(a,[{key:"generateProfitButtons",value:function(){var e,t=[],a=Object(l.a)(this.state.availableProfitReports);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(Object(h.jsxs)("button",{type:"button",className:"list-group-item list-group-item-action","data-toggle":"modal","data-target":"#profit-"+s,children:["Okres rozliczeniowy ",s]}))}}catch(c){a.e(c)}finally{a.f()}return t}},{key:"generateStatisticsButtons",value:function(){var e,t=[],a=Object(l.a)(this.state.availableStatisticsReports);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(Object(h.jsxs)("button",{type:"button",className:"list-group-item list-group-item-action","data-toggle":"modal","data-target":"#statistics-"+s,children:["Okres rozliczeniowy ",s]}))}}catch(c){a.e(c)}finally{a.f()}return t}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"reportsPanel",children:[Object(h.jsx)("h1",{className:"display-4 text-center",children:"Panel z raportami"}),Object(h.jsxs)("div",{className:"accordion",id:"accordionExample",children:[Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-header",id:"headingOne",children:Object(h.jsx)("h5",{className:"mb-0",children:Object(h.jsx)("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Raporty dochod\xf3w"})})}),Object(h.jsx)("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:Object(h.jsx)("div",{className:"card-body p-0",children:Object(h.jsx)("div",{className:"list-group list-group-flush",children:this.generateProfitButtons()})})})]}),Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{className:"card-header",id:"headingTwo",children:Object(h.jsx)("h5",{className:"mb-0",children:Object(h.jsx)("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Statystyki wykonanych us\u0142ug"})})}),Object(h.jsx)("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionExample",children:Object(h.jsx)("div",{className:"card-body p-0",children:Object(h.jsx)("div",{className:"list-group list-group-flush",children:this.generateStatisticsButtons()})})})]})]}),function(){var t,a=[],s=Object(l.a)(e.state.availableProfitReports);try{for(s.s();!(t=s.n()).done;){var c=t.value;a.push(Object(h.jsx)("div",{className:"modal fade",id:"profit-"+c,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",role:"document",children:Object(h.jsx)("div",{className:"modal-content",children:Object(h.jsx)("div",{className:"modal-body p-0",children:Object(h.jsx)(k,{year:c})})})})}))}}catch(o){s.e(o)}finally{s.f()}var n,r=Object(l.a)(e.state.availableStatisticsReports);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.push(Object(h.jsx)("div",{className:"modal fade",id:"statistics-"+i,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",role:"document",children:Object(h.jsx)("div",{className:"modal-content",children:Object(h.jsx)("div",{className:"modal-body p-0",children:Object(h.jsx)(w,{year:i})})})})}))}}catch(o){r.e(o)}finally{r.f()}return a}()]})}}]),a}(c.a.Component),z=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var s;Object(o.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(j.a)(s)),fetch("https://projekt-tab.herokuapp.com/services-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){s.setState({services:e})})).catch((function(e){console.error(e)}));var c=JSON.parse("[]");return s.state={services:c},s}return Object(d.a)(a,[{key:"zeroOne",value:function(e){return 1==e?1:0}},{key:"handleSubmit",value:function(e){e.preventDefault();var t="https://projekt-tab.herokuapp.com/services-list",a={id:"".concat(e.currentTarget.id),active:"".concat(this.zeroOne(e.currentTarget.active.checked)),name:"".concat(e.currentTarget.name.value),parent_id:"".concat(e.currentTarget.parentID.value),price:"".concat(e.currentTarget.price.value)};if("-1"!=e.currentTarget.id){var s=this.state.services.map((function(e){return e.id==a.id?a:e}));this.setState({services:s}),fetch(t,{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"})}else fetch(t,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"});alert("Operacja przebieg\u0142a pomy\u015blnie!")}},{key:"update",value:function(){var e=this;fetch("https://projekt-tab.herokuapp.com/services-list",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({services:t})})).catch((function(e){console.error(e)}))}},{key:"generate",value:function(e){var t,a=this,s=[],c=Object(l.a)(e);try{var n=function(){var e=t.value;s.push(Object(h.jsx)("div",{id:"singleService",children:Object(h.jsx)("div",{className:"modal fade",id:"editService"+e.id,tabIndex:"-1","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Edytuj us\u0142ug\u0119"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{onSubmit:a.handleSubmit,id:e.id,children:[Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"name",children:"Nazwa"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"name",defaultValue:e.name})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"parentID",children:"ID rodzica"}),Object(h.jsx)("input",{type:"number",className:"form-control",id:"parentID",defaultValue:e.parent})]}),Object(h.jsxs)("div",{className:"form-row",children:[Object(h.jsx)("div",{className:"col-5",children:Object(h.jsx)("input",{type:"number",className:"form-control",id:"price",defaultValue:e.price,placeholder:"Cena"})}),Object(h.jsx)("div",{className:"col mr-5 align-self-end",children:Object(h.jsx)("label",{for:"price",children:"z\u0142"})}),Object(h.jsxs)("div",{className:"col-3 align-self-center",children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",id:"active",defaultChecked:function(){if(e.active)return"defaultChecked"}()}),Object(h.jsx)("label",{className:"form-check-label",for:"active",children:"Aktywna"})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})})})),e.child?s.push(Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"row card-header",children:[Object(h.jsxs)("div",{className:"col-9",children:["ID: ",e.id,Object(h.jsx)("button",{className:"btn btn-link btn-block text-left",type:"button","data-toggle":"collapse","data-target":"#collapse"+e.id,"aria-expanded":"true",children:Object(h.jsx)("h5",{children:Object(h.jsx)("b",{children:e.name})})})]}),Object(h.jsx)("div",{className:"col-3 text-right",children:Object(h.jsx)("div",{className:"row justify-content-end",children:Object(h.jsx)("button",{type:"buttont",className:"btn btn-success text-right","data-toggle":"modal","data-target":"#editService"+e.id,children:"Edytuj"})})})]}),Object(h.jsx)("div",{id:"collapse"+e.id,className:"collapse collapsed",children:Object(h.jsx)("div",{className:"card-body",children:a.generate(e.child)})})]})):s.push(Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"row card-body",children:[Object(h.jsxs)("div",{className:"col-9",children:["ID: ",e.id,Object(h.jsx)("h5",{children:Object(h.jsx)("b",{children:e.name})}),"Cena: ",e.price,"z\u0142"]}),Object(h.jsx)("div",{className:"col-3 text-right",children:Object(h.jsx)("div",{className:"row justify-content-end",children:Object(h.jsx)("button",{type:"buttont",className:"btn btn-success text-right","data-toggle":"modal","data-target":"#editService"+e.id,children:"Edytuj"})})})]})}))};for(c.s();!(t=c.n()).done;)n()}catch(r){c.e(r)}finally{c.f()}return s}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"servicesList",children:[Object(h.jsxs)("div",{className:"row mt-2 justify-content-center",children:[Object(h.jsx)("div",{className:"col-10",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-info","data-toggle":"modal","data-target":"#newService",children:"Nowa us\u0142uga"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("button",{type:"button",className:"btn btn-block btn-warning",onClick:this.update.bind(this),children:"Aktualizuj"})})]}),Object(h.jsx)("div",{className:"modal fade",id:"newService",tabIndex:"-1","aria-labelledby":"newService","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",children:"Nowa us\u0142uga"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,id:"-1",children:[Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"name",children:"Nazwa"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"name"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{for:"parentID",children:"ID rodzica"}),Object(h.jsx)("input",{type:"number",className:"form-control",id:"parentID"})]}),Object(h.jsxs)("div",{className:"form-row",children:[Object(h.jsx)("div",{className:"col-5",children:Object(h.jsx)("input",{type:"number",className:"form-control",id:"price",placeholder:"Cena"})}),Object(h.jsx)("div",{className:"col mr-5 align-self-end",children:Object(h.jsx)("label",{for:"price",children:"z\u0142"})}),Object(h.jsxs)("div",{className:"col-3 align-self-center",children:[Object(h.jsx)("input",{type:"checkbox",className:"form-check-input",id:"active",defaultChecked:!0}),Object(h.jsx)("label",{className:"form-check-label",for:"active",children:"Aktywna"})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Zamknij"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Potwierd\u017a"})]})]})]})})}),Object(h.jsx)("div",{className:"row-12 mt-2 justify-content-center",children:Object(h.jsx)("div",{className:"accordion",id:"accordionServices",children:this.generate(this.state.services)})})]})}}]),a}(c.a.Component),C=Object.freeze({landing:1,service:2,registry:3,administrator:4,reports:5,resources:6});var R=function(){var e=Object(s.useState)(C.landing),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(null),r=Object(i.a)(n,2),l=r[0],o=r[1];if(null===l){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState&&200===d.status)switch(o(JSON.parse(d.responseText)),JSON.parse(d.responseText).role){case"administrator":c(4);break;case"manager":c(5);break;case"pracownik":c(6)}},d.open("GET","https://projekt-tab.herokuapp.com/login",!0),d.withCredentials=!0,d.send()}return Object(h.jsxs)("div",{id:"app",children:[Object(h.jsx)(x,{app:c,userinfo:l}),Object(h.jsx)("div",{className:"container",children:function(){switch(a){case C.landing:return Object(h.jsx)(v,{app:c,userinfo:o});case C.service:return Object(h.jsx)(z,{});case C.registry:return Object(h.jsx)(g,{});case C.administrator:return Object(h.jsx)(m,{});case C.reports:return Object(h.jsx)(S,{});case C.resources:return Object(h.jsx)(y,{})}}()})]})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(h.jsx)(R,{}),document.getElementById("root")),T()}},[[185,1,2]]]);
//# sourceMappingURL=main.de63f115.chunk.js.map